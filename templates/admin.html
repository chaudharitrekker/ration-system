<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel</title>
</head>
<body>
    <h1>Admin Panel - Approve Demands</h1>

    {% for demand in demands %}
        <div style="border:1px solid #ccc; padding:10px; margin:10px;">
            <p><b>Employee:</b> {{ demand.employee.name }}</p>
            <p><b>Requested:</b> Sugar = {{ demand.requested_sugar }} kg, Oil = {{ demand.requested_oil }} kg</p>
            <p><b>Status:</b> {{ demand.status }}</p>

            {% if demand.status == "Pending" %}
                <form method="POST" action="{{ url_for('approve_demand', demand_id=demand.id) }}">
                    <label>Approve Sugar (kg):</label>
                    <input type="number" name="approved_sugar" value="{{ demand.requested_sugar }}">
                    <br>
                    <label>Approve Oil (kg):</label>
                    <input type="number" name="approved_oil" value="{{ demand.requested_oil }}">
                    <br><br>
                    <button type="submit">Approve</button>
                </form>
            {% elif demand.status == "Approved" %}
                <p><i>Approved and waiting for delivery.</i></p>
            {% elif demand.status == "Delivered" %}
                <p><i>✅ Delivered</i></p>
            {% endif %}
        </div>
    {% endfor %}
    <p><a href="{{ url_for('admin_master') }}">⬅ Back to Admin Dashboard</a></p>
</body>
</html>